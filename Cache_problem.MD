### 缓存穿透、缓存击穿、缓存雪崩的介绍以及应对方案

> 缓存穿透  

问题描述：一个查询请求过来，缓存层没有缓存，数据库也没有对应的数据。

应对方案：  
1. 做好请求参数的校验（治标不治本）  
2. 缓存null值  
3. 使用布隆过滤器  **推荐**

> 缓存击穿  

问题描述： 一个查询请求过来，缓存层没有，数据库有，就好像在缓存层打了一个洞，如果并发量大的话，就会造成服务端的巨大压力甚至崩溃。

应对方案：

1. 监控热点流量，及时反映，或者热点key干脆不设置过期时间（比如季节性的业务可以提前增加服务器数量）
2. 通过限流工具（Hystrix、sentinel、Guava RateLimiter），保证服务可用 **推荐**
3. 加锁 如果你们使用的是SpringCache `@Cacheable(value = xxx, key = "#id", sync = true)`, 也可以根据这个思路实现自己的加锁

> 缓存雪崩  

问题描述：同一时间有大量的key失效，请求集中打到数据库层。

应对方案：

1. 监控热点流量  
2. 不同缓存失效时间不能一致  
3. 同一类型的缓存时间也尽量随机  